{"version":3,"file":"main.js","names":["document","addEventListener","burger","querySelector","menu","close","classList","add","body","remove","handleOption","el","target","closest","querySelectorAll","forEach","filter","overlay","contactsMobile","filterTabs","tab","locationBtn","locationOverlay","locationMobileBtn","locationModal","locationItems","toggle","item","innerHTML","phoneInputs","getInputsNumbersValue","input","value","replace","onPhoneInput","e","inputNumbersValue","formattedInputValue","selectionStart","length","data","test","indexOf","firstSymbols","substring","onPhoneKeyDown","keyCode","onPhonePaste","pasted","clipboardData","window","pastedText","getData","i","btn","modal","closeButton","player","getElementById","iframeSrc","src","evt","preventDefault"],"sources":["main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n  // --------------- Mobile menu ---------------\r\n  const burger = document.querySelector('.header__burger')\r\n  const menu = document.querySelector('.mobile-menu')\r\n  const close = document.querySelector('.mobile-menu__close')\r\n\r\n  burger.addEventListener(\"click\", () => {\r\n    menu.classList.add('active')\r\n    document.body.classList.add(\"no-scroll\")\r\n  })\r\n  close.addEventListener(\"click\", () => {\r\n    menu.classList.remove('active')\r\n    document.body.classList.remove(\"no-scroll\")\r\n  })\r\n\r\n\r\n  // --------------- Mobile menu / выпадающий список ---------------\r\n  // Выбор опций/сортировка\r\n  const handleOption = (el) => {\r\n    el = el.target;\r\n\r\n    // открытие списков\r\n    if (el.closest(\".linkHasChild\")) {\r\n      document.querySelectorAll(\".linkHasChild\").forEach(function (el) {\r\n        el.classList.remove(\"active\")\r\n      })\r\n      el.closest(\".linkHasChild\").classList.add(\"active\")\r\n    }\r\n  };\r\n  document.addEventListener(\"click\", handleOption);\r\n\r\n  // --------------- Выбор города ---------------\r\n  const filter = document.querySelector('.contacts__filter')\r\n  const overlay = document.querySelector('.contacts__overlay')\r\n  const contactsMobile = document.querySelectorAll('.contacts__mobile')\r\n  const filterTabs = document.querySelectorAll('.tabs__nav-item')\r\n\r\n  contactsMobile.forEach((tab) => {\r\n    tab.addEventListener(\"click\", () => {\r\n      filter.classList.add('visible-filter')\r\n      overlay.classList.add('visible-filter')\r\n      document.body.classList.add(\"no-scroll\")\r\n    })\r\n  })\r\n  filterTabs.forEach((tab) => {\r\n    tab.addEventListener(\"click\", () => {\r\n      filter.classList.remove('visible-filter')\r\n      overlay.classList.remove('visible-filter')\r\n      document.body.classList.remove(\"no-scroll\")\r\n    })\r\n  })\r\n\r\n  // --------------- Mobile menu / Выбор города ---------------\r\n  const locationBtn = document.querySelector('.location__button')\r\n  const locationOverlay = document.querySelector('.location__overlay')\r\n  const locationMobileBtn = document.querySelector('.mobile-menu__button')\r\n  const locationModal = document.querySelector('.location__modal')\r\n  const locationItems = document.querySelectorAll('.location__modal-item')\r\n\r\n  locationBtn.addEventListener(\"click\", () => {\r\n    locationModal.classList.toggle('visible-location')\r\n  })\r\n  locationMobileBtn.addEventListener(\"click\", () => {\r\n    locationModal.classList.toggle('visible-location')\r\n    locationOverlay.classList.toggle('visible-location-overlay')\r\n  })\r\n\r\n  locationItems.forEach((item) => {\r\n    item.addEventListener('click', () => {\r\n      locationBtn.innerHTML = item.innerHTML\r\n      locationMobileBtn.innerHTML = item.innerHTML\r\n      locationModal.classList.remove('visible-location')\r\n      locationOverlay.classList.remove('visible-location-overlay')\r\n    })\r\n  })\r\n\r\n  // --------------- Маска ввода номера телефона ---------------\r\n  let phoneInputs = document.querySelectorAll(\"input[data-tel-input]\");\r\n\r\n  let getInputsNumbersValue = function (input) {\r\n    return input.value.replace(/\\D/g, \"\");\r\n  };\r\n\r\n  // Обработка ввода\r\n  let onPhoneInput = function (e) {\r\n    let input = e.target;\r\n    let inputNumbersValue = getInputsNumbersValue(input);\r\n    let formattedInputValue = \"\";\r\n    let selectionStart = input.selectionStart;\r\n\r\n    if (!inputNumbersValue) {\r\n      return (input.value = \"\");\r\n    }\r\n\r\n    if (input.value.length !== selectionStart) {\r\n      if (e.data && /\\D/g.test(e.data)) {\r\n        input.value = inputNumbersValue;\r\n      }\r\n      return;\r\n    }\r\n\r\n    if ([\"7\", \"8\", \"9\"].indexOf(inputNumbersValue[0]) > -1) {\r\n      // Российский номер\r\n\r\n      if (inputNumbersValue[0] === \"9\") {\r\n        inputNumbersValue = \"7\" + inputNumbersValue;\r\n      }\r\n      let firstSymbols = inputNumbersValue[0] === \"8\" ? \"8\" : \"+7\";\r\n      formattedInputValue = firstSymbols + \" \";\r\n\r\n      //Форматирование\r\n      if (inputNumbersValue.length > 1) {\r\n        formattedInputValue += \"(\" + inputNumbersValue.substring(1, 4);\r\n      }\r\n      if (inputNumbersValue.length >= 5) {\r\n        formattedInputValue += \") \" + inputNumbersValue.substring(4, 7);\r\n      }\r\n      if (inputNumbersValue.length >= 8) {\r\n        formattedInputValue += \"-\" + inputNumbersValue.substring(7, 9);\r\n      }\r\n      if (inputNumbersValue.length >= 10) {\r\n        formattedInputValue += \"-\" + inputNumbersValue.substring(9, 11);\r\n      }\r\n    } else {\r\n      // Не российский номер\r\n      formattedInputValue = \"+\" + inputNumbersValue.substring(0, 16);\r\n    }\r\n\r\n    input.value = formattedInputValue;\r\n  };\r\n\r\n//  Удаление первой цифры\r\n  let onPhoneKeyDown = function (e) {\r\n    let input = e.target;\r\n    if (e.keyCode === 8 && getInputsNumbersValue(input).length === 1) {\r\n      input.value = \"\";\r\n    }\r\n    if (e.keyCode === \"-\") {\r\n      input.value = \"\";\r\n    }\r\n  };\r\n\r\n// Нельзя вставить букву из буфера обмена\r\n  let onPhonePaste = function (e) {\r\n    let pasted = e.clipboardData || window.clipboardData;\r\n    let input = e.target;\r\n    let inputNumbersValue = getInputsNumbersValue(input);\r\n\r\n    if (pasted) {\r\n      let pastedText = pasted.getData(\"Text\");\r\n\r\n      if (/\\D/g.test(pastedText)) {\r\n        input.value = inputNumbersValue;\r\n      }\r\n    }\r\n  };\r\n\r\n// Перебор полей с телефонами\r\n  for (let i = 0; i < phoneInputs.length; i++) {\r\n    let input = phoneInputs[i];\r\n    input.addEventListener(\"input\", onPhoneInput);\r\n    input.addEventListener(\"keydown\", onPhoneKeyDown);\r\n    input.addEventListener(\"paste\", onPhonePaste);\r\n  }\r\n\r\n\r\n  //Модальное окно для видео\r\n  const btn = document.querySelector('.js-watch-video');\r\n  const modal = document.querySelector(\".js-modal-video\");\r\n  const closeButton = document.querySelector(\".js-close\");\r\n\r\n  const player = document.getElementById('video-iframe');\r\n  const iframeSrc = player.src;\r\n\r\n  btn.addEventListener(\"click\", function (evt) {\r\n    evt.preventDefault();\r\n    modal.classList.add(\"active\");\r\n    locationOverlay.classList.add(\"visible-location-overlay\");\r\n    document.body.classList.add(\"no-scroll\");\r\n  });\r\n  closeButton.addEventListener(\"click\", function (evt) {\r\n    evt.preventDefault();\r\n    modal.classList.remove(\"active\");\r\n    locationOverlay.classList.remove(\"visible-location-overlay\");\r\n    document.body.classList.remove(\"no-scroll\");\r\n    player.src = iframeSrc;\r\n  });\r\n  modal.addEventListener(\"click\", function (evt) {\r\n    evt.preventDefault();\r\n    modal.classList.remove(\"active\");\r\n    locationOverlay.classList.remove(\"visible-location-overlay\");\r\n    document.body.classList.remove(\"no-scroll\");\r\n    player.src = iframeSrc;\r\n  });\r\n\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"}